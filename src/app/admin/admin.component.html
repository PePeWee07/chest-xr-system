<div class="fondo">

  <div class="row justify-content-center">

    <!-- filtro -->
    <div class="col-10 d-flex justify-content-center div-filtro mt-5 mb-1">
      <label class="mx-2"> <i class="bi bi-search" style="font-size: 1.5rem; color: rgb(47, 46, 134);"></i> </label>
      <input type="text" class="filtro" [(ngModel)]="searchText" placeholder="   SEARCH">
    </div>

    <div class="col-10 align-self-center">
      <!-- tabla -->
      <div class="table-responsive my-1">
        <table class="table table-dark table-striped table-hover align-middle">
          <thead>
            <tr>
              <th scope="col" style="border-top-left-radius: 5px;">#</th>
              <!-- <th scope="col">ID</th> -->
              <th scope="col">Email</th>
              <th scope="col">Nombre</th>
              <th scope="col">Apellido</th>
              <th scope="col">Telefono</th>
              <th scope="col">Direccion</th>
              <th scope="col">Roles</th>
              <th scope="col">Estado</th>
              <th scope="col" style="border-top-right-radius: 5px;">Editar</th>
            </tr>
          </thead>
          <tbody id="tabla" ref="tabla" class="table-group-divider">
            <tr  *ngFor="let data of dataUsers | filter:searchText | paginate: { itemsPerPage: itemsPage, currentPage: p}; let i = index" [routerLink]="['/userPage/' + data.id]">
              <th scope="row">{{ i+1 }}</th>
              <!-- <td>{{item.id}}</td> -->
              <td>{{ data.email }}</td>
              <td>{{ data.nombre }}</td>
              <td>{{ data.apellido }}</td>
              <td>{{ data.telefono }}</td>
              <td>{{ data.direccion }}</td>
              <td>
                <div *ngFor="let rol of data.roles">
                  <!-- {{rol.nombre}} -->
                  <div *ngIf="rol.id == 1" class="bubble-admin"> <label>Admin</label> </div>
                  <div *ngIf="rol.id == 2" class="bubble-user"> <label>User</label> </div>
                  <div *ngIf="rol.id == 3" class="bubble-publi"> <label>Publicator</label> </div>
                </div>
              </td>
              <td>
                 <div *ngIf="data.estado == true" class="estado-true">{{ data.estado }}</div>
                 <div *ngIf="data.estado == false" class="estado-false">{{ data.estado }}</div>
              </td>
              <td>
                <button type="button" class="btn btn-warning" (click)="updateUser(data)">
                  <i class="bi bi-pencil"></i>
                </button>
              </td>
            </tr>
          </tbody>
        </table>

        <!-- Pie de tabla -->
        <div class="row justify-content-evenly">
          <div class="col">
            <!-- paginacion -->
            <pagination-controls class="my-pagination" (pageChange)="p = $event"></pagination-controls>
          </div>
          <div class="col">
            <div class="row justify-content-end">
              <div class="col-md-4 align-self-end">
              <!-- selecion de items por page -->
                <select style="background-color: grey;" class="form-select" style="width: auto" [(ngModel)]="itemsPage">
                  <option [value]="itemsPage" disabled selected hidden>Items</option>
                  <option [ngValue]="3">3 items per page</option>
                  <option [ngValue]="5">5 items per page</option>
                  <option [ngValue]="10">10 items per page</option>
                </select>
              </div>
              <div class="col-md-4">
                <div class="mt-2">
                  <!-- Total de usuarios -->
                    <label style="color: grey;">NÂ° Users: {{allUsers}}</label>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>

  </div>
</div>

